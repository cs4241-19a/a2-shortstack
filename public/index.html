<!doctype html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 2</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="js/scripts.js"></script>
  </head>
  <body>
    <div class="title">
      Daily Schedule
    </div>
    <div class="board" data-board="fullboard"> 
      <div class="boardsection" data-board="Sunday">
        <div class="header">
          Sunday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>
      <div class="boardsection" data-board="Monday">
      <div class="header">
          Monday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>
      <div class="boardsection" data-board="Tuesday">
      <div class="header">
          Tuesday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>      
      <div class="boardsection" data-board="Wednesday">
        <div class="header">
          Wednesday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>
      <div class="boardsection" data-board="Thursday">
        <div class="header">
          Thursday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>
      <div class="boardsection" data-board="Friday">
        <div class="header">
          Friday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>
      <div class="boardsection" data-board="Saturday">
        <div class="header">
          Saturday
        </div>
        <div class="tasklist">
          thing
        </div>
      </div>    
    </div>
    <button id="next">
      Next Day
    </button>
    <form action="">
      <input type="text" id="response" value="answer here">
      <button id="submit">submit</button>
    </form>
    
  </body>
  
  <script>
    

  
  const submit = function( e ) {
    // prevent default form action from being carried out
    e.preventDefault()

    const url = '/information',
          input = document.querySelector( '#response' ),
          json = { yourresponse: input.value },
          body = JSON.stringify( json ),
          answer = document.querySelector( '#answer')

    //answer.innerHTML = "hi"

    
    fetch( '/submit', {
      method:'POST',
      body
    })
    .then( function( response ) {
      // do something with the reponse 
      //text.textContent = response;
      console.log( response )
      //occupyText()
      
      
      
      /*
      fetch(url)
        .then(function( response ) {
          //response.json();
          answer.innerHTML = response.body

          console.log(response)
      }).then(function(data) {
        //answer.innerHTML = data
        //console.log(info)
      });
      */

      
    })

    return false
  }
  
  const occupyText = function() {
    fetch( '/information' )
      .then( function( response ) {
        console.log( response )
        return response.json()
    })
      .then( function( myJSON ) {
        var info = myJSON.data
        answer.innerHTML = info[1].value
      
      
        console.log( info[1] )
        console.log( JSON.stringify( myJSON ) )
    })
  }

  window.onload = function() {
    const button = document.querySelector( '#submit' )
    button.onclick = submit
    
    const nextButton = document.querySelector( '#next' )
    nextButton.onclick = nextAction
  }

  </script>
</html>
