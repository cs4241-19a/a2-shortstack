<html lang="en">
  <head>
    <title>CS4241 Assignment 2</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
    <form action="">

     <input type="text" id="yourname" value="what do you feel like eating?" class="recipe">
      <input type="text" id="dish" value="" class="recipe">
      <input type="text" id="ingredient" value="" class="recipe">
      <button>submit</button>
    </form>
    <div id="ingredients">
      
    </div>
    <div id="instructions">
      
    </div>
  </body>
  <script>

  const submit = function( e ) {
    // prevent default form action from being carried out
    e.preventDefault()
    const input = document.querySelector( '#yourname' );
    const input2 = document.querySelector( '#dish' );
    const input3 = document.querySelector( '#ingredient' );
          json = { yourname: input.value,
                   dish: input2.value,
                   ingredient: input3.value},
            
          body = JSON.stringify( json )
    
    fetch( '/submit', {
      method:'POST',
      body 
    })
    .then( function( response ) {
      // do something with the reponse 
      
    displayData(response)
      
    debugger;
      
      })
    return false
  }
  
  const loadData = function(json){
    const arrays = recipe(json)
    displayData(arrays);
    
  }
  
  const displayData = function(arrays){
    for (let i = 0; i < arrays.ingredient; i++) {
      const ing = arrays.ingredient;
      displayIngredients(ing);
    }
    
    for (let i = 0; i < arrays.instruction; i++) {
      const ins = arrays.dish;
      displayInstructions(ins);
    }
  }
  
  const displayIngredients = function( ing ) {
  const template = '<tr><td>{name}</td></tr>'
  const row = template.replace("{name}", ing)
  const tbody = document.querySelector("#ingredients")
  tbody.innerHTML += row
}
  
  const displayInstructions = function( ins ) {
  const template = '<tr><td>{name}</td></tr>'
  const row = template.replace("{name}", ins)
  const tbody = document.querySelector("#instructions")
  tbody.innerHTML += row
}
  
  
  window.onload = function() {
    const button = document.querySelector( 'button' )
    button.onclick = submit;
  }
  </script>
</html>